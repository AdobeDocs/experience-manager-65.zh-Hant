---
title: 交互通信中的條件
seo-title: Conditions in Interactive Communications
description: 建立和編輯要在交互通信中使用的條件片段 — 條件是用於構建交互通信的四種文檔片段之一。 另外三個是文本、清單和佈局片段。
seo-description: Creating and editing conditions to be used in Interactive Communications
uuid: c98f02d5-1769-46dd-ab35-6e8145a24939
topic-tags: interactive-communications
products: SG_EXPERIENCEMANAGER/6.5/FORMS
discoiquuid: fe59d260-d392-4d6f-bb7e-2f2a1d701f51
docset: aem65
feature: Interactive Communication
exl-id: 0c0dc6a2-b889-4516-8e08-1e9d31be2cce
source-git-commit: b220adf6fa3e9faf94389b9a9416b7fca2f89d9d
workflow-type: tm+mt
source-wordcount: '1497'
ht-degree: 0%

---

# 交互通信中的條件{#conditions-in-interactive-communications}

建立和編輯要在交互通信中使用的條件片段 — 條件是用於構建交互通信的四種文檔片段之一。 另外三個是文本、清單和佈局片段。

## 概觀 {#overview}

Condition是可以包含在交互通信中的文檔片段。 其他文檔片段 [文本](../../forms/using/texts-interactive-communications.md)、清單和佈局片段。 條件使您能夠根據提供的資料和規則定義一個或多個上下文資產，這些資產包括在互動式通信中。

範例：

* 在信用卡報表中，根據客戶的信用卡類型顯示信用卡年費和信用卡影像。
* 在保險費到期催繳中，顯示基於客戶州稅的計稅。

根據所應用的規則和傳遞給規則的值呈現的條件中的資產。 條件中的規則可以檢查以下類型資料中的值：

* 關聯表單資料模型的屬性
* 在條件中建立的任何變數
* 字串
* 數字
* 數學表達式
* 日期

## 建立條件 {#createcondition}

1. 選擇 **[!UICONTROL Forms]** > **[!UICONTROL 文檔片段]**。
1. 選擇 **[!UICONTROL 建立]** > **[!UICONTROL 條件]**。
1. 指定以下資訊：

   * **[!UICONTROL 標題]**:（可選）輸入條件的標題。 標題不必唯一，可以有特殊字元和非英文字元。 條件由其標題（如果可用）引用，如縮略圖和屬性中。
   * **[!UICONTROL 名稱]**:資料夾內條件的唯一名稱。 任何狀態下的兩個文檔片段（文本、條件或清單）都不能在資料夾中以相同的名稱存在。 在「名稱」欄位中，只能輸入英語字元、數字和連字元。 「名稱」(Name)欄位將基於「標題」(Title)欄位自動填充。 在「標題」欄位中輸入的特殊字元、空格、數字和非英文字元將替換為「名稱」欄位中的連字元。 儘管「標題」(Title)欄位中的值會自動複製到「名稱」(Name)中，但您可以編輯該值。

   * **[!UICONTROL 說明]**:鍵入文檔片段的說明。
   * **[!UICONTROL 窗體資料模型]**:（可選）選擇「表單資料模型」單選按鈕以基於表單資料模型建立條件。 選擇「表單資料模型」單選按鈕時， **[!UICONTROL 窗體資料模型]** 的子菜單。 瀏覽並選擇表單資料模型。 在為交互通信建立條件時，請確保使用的資料模型與要在交互通信中使用的資料模型相同。 有關表單資料模型的詳細資訊，請參見 [資料整合](../../forms/using/data-integration.md)。

   * **[!UICONTROL 標籤]**:（可選）要建立自定義標籤，請在文本欄位中輸入值，然後點擊Enter。 保存此條件時，將建立新添加的標籤。

1. 點擊 **[!UICONTROL 下一個]**。

   「建立條件」頁。

   ![建立條件](assets/createcondition.png)

1. 點擊 **[!UICONTROL 添加資產]**。

   此時將顯示「選擇資產」頁，並顯示可在條件中添加的可用文本、清單、條件和影像。

   >[!NOTE]
   >
   >「選擇資產」頁中只顯示基於非基於、新建立的資產和基於FDM的資產（使用與建立的條件相同的FDM建立）。

1. 點擊相應的資產以選擇它們以包含在條件中，然後點擊 **[!UICONTROL 完成]**。

   「建立條件」頁面，並列出添加的資產。

   ![createconditionassessetad](assets/createconditionassetsadd.png)

   您可以使用以下選項管理條件下的資產：

   ![創條件](assets/createconditionscreenassetsaddedannotated.png)

   **[A] 拒絕更改。** 按一下此表徵圖可拒絕對條件中的資產和規則所做的更改。
   **[B] 接受更改。** 按一下此表徵圖接受在條件中的資產和規則中所做的更改。
   **[C] 重複資產。** 按一下此表徵圖，在條件中建立資產的副本以及應用的規則（如果有）。 然後，您可以繼續編輯重複資產的規則和資產。 複製資產對於建立類似規則以根據特定上下文顯示替代資產非常有用。
   **[D] 顯示預覽。** 按一下此表徵圖可在「建立\編輯條件」頁中顯示資產的預覽。
   **「server」重新排序。** 點擊並按住此表徵圖可拖放資產以在條件內重新排序這些資產。

   您可以選擇以下選項來指定條件在運行時的行為方式：

   * **已禁用多個結果評估\已啟用多個結果評估**:啟用此選項（顯示為「已啟用多個結果評估」）後，將評估所有規則，其結果是所有真規則的總和。 如果禁用此選項（顯示為「禁用多個結果評估」），則只計算發現為true的第一個規則，並成為該條件的輸出。

   * **分頁符**:選擇此選項( ![斷](assets/break.png))以在條件的資產之間添加分頁符。 未選擇此選項時( ![無](assets/nobreak.png))，如果條件溢出到打印輸出中的下一頁，則整個條件將移到下一頁，而不是在條件中的資產之間的頁中斷。

1. 點擊 **[!UICONTROL 建立規則]** 添加規則以顯示或隱藏資產。 要在規則中使用變數，請參見 [建立變數](#variables)。 有關詳細資訊，請參見 [將規則添加到條件](#ruleeditor)。

   建立的規則將出現在「建立條件」螢幕的「規則」列中。

   ![建立條件螢幕規則已添加](assets/createconditionscreenrulesadded.png)

   >[!NOTE]
   >
   >您可以在條件中插入已應用規則或重複應用的資產。

1. 點擊 **[!UICONTROL 保存]**。

   條件已建立。 現在，您可以在建立互動式通信時將該條件用作構建塊。

   >[!NOTE]
   >
   >要保存新條件或已編輯條件，必須至少為條件中添加的每個資產設定一條規則。

## 編輯條件 {#edit-a-condition}

可以使用以下步驟編輯條件。 也可以通過在彈出式菜單中選擇「編輯片段」來從交互通信中選擇編輯條件。

1. 選擇 **[!UICONTROL Forms]** > **[!UICONTROL 文檔片段]**。
1. 導航到該條件並選擇它。
1. 點擊 **[!UICONTROL 編輯]**。
1. 在條件中進行所需的更改。 有關條件中可更改的資訊的詳細資訊，請參閱 [建立條件](#createcondition)。
1. 點擊 **[!UICONTROL 保存]** 然後點擊 **[!UICONTROL 關閉]**。

## 在條件中建立規則 {#ruleeditor}

在條件中使用規則編輯器，可以建立規則以根據 **預設條件**。 這些條件可以基於：

* 字串
* 數字
* 數學表達式
* 日期
* 關聯表單資料模型的屬性
* 任意 [變數](#variables) 你可能創造的

### 在條件中建立規則 {#create-rule-in-condition}

1. 建立或編輯條件時，點擊 ![規則編輯器表徵圖](assets/ruleeditoricon.png) （規則編輯器）相關資產的表徵圖。

   將出現「建立規則」對話框。 除了字串、數字、數學表達式和日期之外，規則編輯器中還提供了以下內容，用於建立規則的語句：

   * 關聯表單資料模型的屬性
   * 任意 [變數](#variables) 你可能創造的。

   ![建立對話框](assets/createruledialog.png)

   選擇要評估的相應選項。

   >[!NOTE]
   >
   >不支援建立規則以顯示資產的集合屬性。

1. 選擇相應的運算子來評估規則，如「等於」、「包含」和「開始於」。
1. 插入計算表達式、字串、資料模型屬性、變數或日期。

   ![策略類型為標準時顯示資產的規則](assets/ruleincondition.png)

   策略類型為標準時顯示資產的規則

   * 在建立或編輯規則時，也可以點擊 ![表徵圖調整大小](assets/icon_resize.png) （調整大小）以展開「建立規則/編輯規則」對話框。 通過展開的全窗口對話框，您可以建立 [變數](#variables) 構建規則。 再次點擊「調整大小」以返回常規的「建立規則」對話框。

   * 也可以在規則中建立多個條件。

1. 點擊 **[!UICONTROL 完成]**。

   規則將應用於資產。

## 在條件中建立和使用變數 {#variables}

在條件中建立或編輯規則時，可以點擊 ![表徵圖調整大小](assets/icon_resize.png) （調整大小）以展開「建立規則\編輯規則」對話框。 展開的全窗口對話框允許您：

* 在規則中建立和使用變數
* 拖放式資料模型在規則中的屬性和變數

再次點擊「調整大小」以返回「建立規則\編輯規則」對話框。

### 建立變數 {#create-variables}

1. 在條件中建立或編輯規則時，可以點擊 ![表徵圖調整大小](assets/icon_resize.png) （調整大小）以展開「建立規則\編輯規則」對話框。

   將出現「展開的全窗口」對話框。

   ![擴展規則對話框](assets/expandededitruledialog.png)

1. 在左窗格中，點擊 **[!UICONTROL 變數]**。

   將出現「變數」窗格。

   ![擴展規則變數](assets/expandededitrulevariables.png)

1. 點擊 **[!UICONTROL 建立]**。

   將顯示「建立變數」窗格。

1. 輸入以下資訊並點擊 **[!UICONTROL 建立]**:

   * **[!UICONTROL 名稱]**:變數的名稱。
   * **[!UICONTROL 說明]**:（可選）輸入有關變數的說明。
   * **[!UICONTROL 類型]**:選擇變數的類型：字串、數字、布爾或日期。
   * **[!UICONTROL 僅允許特定值]**:對於字串和數字變數，可以確保代理從代理UI中佔位符的特定值集中選擇。 要指定值集，請選擇此選項，然後指定在 **[!UICONTROL 值]** 的子菜單。

1. 點擊 **[!UICONTROL 建立]**。

   變數將建立並列在「變數」窗格中。

1. 要在規則中插入變數，請將變數拖放到規則中某個選項的佔位符中。
1. 構建有效規則後，點擊 **[!UICONTROL 完成]**。

   如果需要，繼續在條件中進行進一步更改並保存。
