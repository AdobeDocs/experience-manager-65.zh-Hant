---
title: 硬體調整指南
seo-title: Hardware Sizing Guidelines
description: 這些調整指南提供了部署項目所需硬體資源的近AEM似值。
seo-description: These sizing guidelines offer an approximation of the hardware resources required to deploy an AEM project.
uuid: 395f9869-17c4-4b9b-99f8-d35a44dd6256
contentOwner: msm-service
products: SG_EXPERIENCEMANAGER/6.5/MANAGING
topic-tags: managing
content-type: reference
discoiquuid: 8893306f-4bc0-48eb-8448-36d0214caddf
docset: aem65
exl-id: 5837ef4f-d4e0-49d7-a671-87d5547e0d98
source-git-commit: b220adf6fa3e9faf94389b9a9416b7fca2f89d9d
workflow-type: tm+mt
source-wordcount: '2816'
ht-degree: 0%

---

# 硬體調整指南{#hardware-sizing-guidelines}

這些調整指南提供了部署項目所需硬體資源的近AEM似值。 規模估計取決於項目的體系結構、解決方案的複雜性、預期流量和項目要求。 本指南幫助您確定特定解決方案的硬體需求，或查找硬體需求的上下限估計值。

要考慮的基本因素有：

* **網路速度**

   * 網路延遲
   * 可用頻寬

* **計算速度**

   * 快取效率
   * 預期通信量
   * 模板、應用程式和元件的複雜性
   * 併發作者
   * 創作操作的複雜性（簡單的內容編輯、MSM推廣等）

* **I/O效能**

   * 檔案或資料庫儲存的效能和效率

* **硬碟**

   * 至少比儲存庫大兩三倍

* **記憶體**

   * 網站大小（內容對象、頁面和用戶數）
   * 同時處於活動狀態的用戶/會話數

## 架構 {#architecture}

典型設AEM置由作者和發佈環境組成。 這些環境對底層硬體大小和系統配置有不同的要求。 有關兩個環境的詳細注意事項，請參見 [作者環境](/help/managing/hardware-sizing-guidelines.md#author-environment-specific-calculations) 和 [發佈環境](/help/managing/hardware-sizing-guidelines.md#publish-environment-specific-calculations) 的下界。

在典型的項目設定中，您有幾個環境要在其中執行項目階段：

* **開發環境**
開發新功能或進行重大更改。 最佳做法是使用每個開發人員的開發環境（通常是在其個人系統上進行本地安裝）。

* **作者test環境**
驗證更改。 test環境的數量可能因項目要求而異（例如，QA、整合測試或用戶驗收測試各自不同）。

* **發佈test環境**
主要用於測試社會協作使用案例和/或作者與多個發佈實例之間的交互。

* **作者生產環境**
供作者編輯內容。

* **發佈生產環境**
提供已發佈內容。

此外，環境可能會有所不同，從運行的單伺服器系統和應AEM用伺服器，到高度擴展的多伺服器、多CPU群集實例集。 我們建議您為每個生產系統使用單獨的電腦，並且不要在這些電腦上運行其他應用程式。

## 一般硬體調整注意事項 {#generic-hardware-sizing-considerations}

以下各節提供了有關如何計算硬體要求的指導，其中考慮了各種因素。 對於大型系統，我們建議您對參考配置執行一組簡單的內部基準test。

效能優化是一項基本任務，需要在為特定項目執行任何基準評估之前執行。 請確保應用中提供的建議 [效能優化文檔](/help/sites-deploying/configuring-performance.md) 執行任何基準test，並將結果用於任何硬體調整計算之前。

高級使用案例的硬體規模要求需要基於對項目的詳細效能評估。 需要特殊硬體資源的高級使用案例的特點包括：

* 高內容負載/吞吐量
* 大量使用自定義代碼、自定義工作流或第三方軟體庫
* 整合不受支援的外部系統

### 磁碟空間/硬碟 {#disk-space-hard-drive}

所需的磁碟空間在很大程度上取決於Web應用程式的卷和類型。 計算應考慮：

* 頁面、資產和其他儲存庫儲存的實體（如工作流、配置檔案等）的數量和大小。
* 估計的內容更改頻率，從而建立內容版本
* 將生成的DAM資產格式副本的數量
* 內容的總體增長

在「Online（聯機）」和「Offline（離線）」 「Revision Cleanup（修訂版清理）」期間，會持續監視磁碟空間。 如果可用磁碟空間降至關鍵值以下，將取消該進程。 關鍵值是儲存庫當前磁碟佔用量的25%，且無法配置。 建議將磁碟大小至少比儲存庫大小（包括估計的增長）大兩三倍。

考慮對獨立磁碟冗餘陣列（RAID，如RAID10）進行設定，以實現資料冗餘。

>[!NOTE]
>
>生產實例的臨時目錄應至少具有6 GB的可用空間。

#### 虛擬化 {#virtualization}

在AEM虛擬化環境中運行良好，但可能存在CPU或I/O等無法直接與物理硬體相等的因素。 建議選擇更高的I/O速度（一般而言），因為這在大多數情況下都是一個關鍵因素。 對您的環境進行基準評估是準確瞭解所需資源所必需的。

#### 實例的並AEM行化 {#parallelization-of-aem-instances}

**失敗安全性**

在至少兩個獨立的系統上部署了故障保護網站。 如果一個系統出現故障，另一個系統可以接管並因此補償系統故障。

**系統資源可擴充性**

當所有系統都在運行時，可以提高計算效能。 這種附加效能與簇節點數不一定是線性的，因為這種關係高度依賴於技術環境；請參閱 [群集文檔](/help/sites-deploying/recommended-deploys.md) 的子菜單。

根據特定Web項目的基本要求和具體使用情況，估計需要多少簇節點：

* 從故障安全性的角度，對於所有環境，都需要根據群集節點恢復所需的時間來確定關鍵故障的嚴重程度和故障補償時間。
* 在可擴充性方面，寫操作的數量基本上是最重要的因素；見 [作者並行工作](/help/managing/hardware-sizing-guidelines.md#authors-working-in-parallel) 為作者的環境和 [社會協作](/help/managing/hardware-sizing-guidelines.md#socialcollaborationspecificconsiderations) 按鈕。 可以為僅訪問系統以處理讀取操作的操作建立負載平衡；見 [調度程式](https://helpx.adobe.com/experience-manager/dispatcher/user-guide.html) 的雙曲餘切值。

## 編寫特定於環境的計算 {#author-environment-specific-calculations}

為了進行基準測試，Adobe為獨立作者實例開發了一些基準test。

* **基準test1**
計算負載配置檔案的最大吞吐量，其中用戶在300個現有頁面的基本負載上執行簡單的建立頁面練習，而所有這些頁面都具有類似的性質。 涉及的步驟包括登錄到站點、建立帶有SWF和影像/文本的頁面、添加標籤雲，然後激活該頁面。

   * **結果**
如上所示（視為一個事務）的簡單頁面建立練習的最大吞吐量為1730個事務/小時。

* **基準test2**
當載入配置檔案包含新建頁面建立(10%)、修改現有頁面(80%)和繼續修改頁面(10%)時計算最大吞吐量。 這些頁的複雜性與基準test1的配置檔案相同。 通過添加影像和修改文本內容來完成頁面的基本修改。 同樣，該練習是在300頁的基本負載上執行的，其複雜性與基準test1中定義的相同。

   * **結果**
發現此混合操作方案的最大吞吐量為每小時3252個事務。

>[!NOTE]
>
>吞吐量率不區分負載配置檔案內的事務類型。 用於測量吞吐量的方法確保將每種類型的事務的固定比例包括在工作負載中。

以上兩個test清楚地強調，吞吐量會因操作類型而異。 使用環境中的活動作為調整系統大小的基礎。 通過修改等較不密集的操作（這也更常見），您將獲得更好的吞吐量。

### 快取 {#caching}

在作者所處的環境中，由於網站更頻繁的更改，以及內容的高度交互性和個性化，快取效率通常要低很多。 使用調度程式，可以AEM快取庫、JavaScripts、CSS檔案和佈局影像。 這加快了創作過程的某些方面。 將Web伺服器配置為在這些資源上另外設定用於瀏覽器快取的標頭，將減少HTTP請求數量，從而改善作者所體驗到的系統響應能力。

### 作者並行工作 {#authors-working-in-parallel}

在作者所處的環境中，並行工作的作者數量以及它們之間的相互作用對系統的增加是主要限制因素。 因此，我們建議您根據資料的共用吞吐量來擴展系統。

對於這種情景，Adobe在兩個節點的作者實例的無共用群集上執行基準test。

* **基準test1a**
對於包含2個作者實例的活動 — 活動 — 無共用集群，使用負載配置檔案計算最大吞吐量，用戶在300個現有頁面的基本負載之上執行簡單的建立頁面練習，而所有這些都具有相似的性質。

   * **結果**
如上所述，簡單頁面建立練習（視為一個事務）的最大吞吐量為2016個事務/小時。 與同一基準test的獨立作者實例相比，這大約增加了16%。

* **基準test2b**
對於包含2個作者實例的活動 — 活動 — 無共用集群，當載入配置檔案包含新建頁面建立(10%)、修改現有頁面(80%)以及連續建立和修改頁面(10%)時，計算最大吞吐量。 該頁的複雜性與基準test1的配置檔案相同。 通過添加影像和修改文本內容來完成頁面的基本修改。 同樣，該練習是在300頁複雜度的基本負載(與基準test1中定義的內容相同)的基礎上執行的。

   * **結果**
發現此類混合操作方案的最大吞吐量為6288個事務/小時。 與同一基準test的獨立作者實例相比，這大約增加了93%。

>[!NOTE]
>
>吞吐量率不區分負載配置檔案內的事務類型。 用於測量吞吐量的方法確保將每種類型的事務的固定比例包括在工作負載中。

以上兩個test清楚地強AEM調，對於正在使用執行基本編輯操作的作者來說，這一比例很AEM高。 通常，在AEM擴展讀操作方面最有效。

在典型的網站上，大多數創作都發生在項目階段。 網站上線後，並行工作的作者數量通常會下降到較低（操作模式）的平均值。

您可以按如下方式計算作者環境所需的電腦（或CPU）數：

`n = numberOfParallelAuthors / 30`

此公式可作為作者在執行基本操作時擴展CPU的一般指AEM南。 假設系統和應用程式已優化。 但是，對於MSM或Assets等高級功能，公式將不成立（請參見下面各節）。

另請參閱有關 [並行化](/help/managing/hardware-sizing-guidelines.md#parallelization-of-aem-instances) 和 [效能優化](/help/sites-deploying/configuring-performance.md)。

### 硬體Recommendations {#hardware-recommendations}

通常，您可以為作者環境使用與發佈環境建議相同的硬體。 通常，創作系統上的網站流量要低得多，但快取效率也較低。 然而，這裡的根本因素是同時工作的作者人數以及對系統採取的行動類型。 通常，AEM群集（作者環境）在擴展讀取操作方面最為有效；換句話說，群集可AEM以與正在執行基本編輯操作的作者一起很好地擴展。

Adobe的基準test是使用RedHat 5.5作業系統執行的，該作業系統運行在Hewlett-Packard ProLiant DL380 G5硬體平台上，具有以下配置：

* 兩個3.00GHz四核英特爾至強X5450 CPU
* 8 GB RAM
* Broadcom NetXtreme II BCM5708千兆乙太網
* HP Smart Array RAID控制器，256 MB快取
* 兩個146 GB 10,000 RPM SAS磁碟配置為RAID0條帶集
* SPEC CINT2006比率基準分數為110

實AEM例運行時的最小堆大小為256M，最大堆大小為1024M。

## 發佈特定於環境的計算 {#publish-environment-specific-calculations}

### 快取效率和流量 {#caching-efficiency-and-traffic}

快取效率對網站速度至關重要。 下表顯示優化系統每秒可使用反向代理AEM處理多少頁，如調度程式：

| 快取比率 | 頁數/秒（峰值） | 百萬頁/天（平均數） |
|---|---|---|
| 100% | 1000-2000 | 35-70 |
| 99% | 910 | 32 |
| 95% | 690 | 25 |
| 90% | 520 | 18 |
| 60% | 220 | 8 |
| 0% | 100 | 3.5 |

>[!CAUTION]
>
>免責聲明：這些數字基於預設硬體配置，並可能因使用的特定硬體而異。

快取比率是調度程式無需訪問即可返回的頁的百分AEM比。 100%表示調度程式回答所有請求，0%表示計AEM算每一頁。

### 模板和應用程式的複雜性 {#complexity-of-templates-and-applications}

如果使用複雜模AEM板，則需要更多時間來呈現頁面。 從快取中提取的頁不受此影響，但在考慮總體響應時間時，頁面大小仍然相關。 繪製複雜頁面比繪製簡單頁面容易花費十倍的時間。

### 公式 {#formula}

使用以下公式，您可以計算解決方案的總體複雜AEM性：

`complexity = applicationComplexity + ((1-cacheRatio) * templateComplexity)`

根據複雜性，您可以確定發佈環境所需的伺服器（或CPU核心）數量，如下所示：

`n = (traffic * complexity / 1000 ) * activations`

公式中的變數如下：

<table>
 <tbody>
  <tr>
   <td>流量</td>
   <td>每秒預期的峰值流量。 您可以將其估計為每天的頁面點擊數除以35000。</td>
  </tr>
  <tr>
   <td>應用程式複雜性</td>
   <td><p>將1用於簡單應用程式，將2用於複雜應用程式，或將值置於以下之間：</p>
    <ul>
     <li>1 — 完全匿名、面向內容的站點</li>
     <li>1.1 — 一個完全匿名、面向內容的站點，客戶端/目標個性化</li>
     <li>1.5 — 一個面向內容的站點，包含匿名和登錄部分，客戶端/目標個性化</li>
     <li>1.7 — 適用於具有匿名和登錄部分、客戶端/目標個性化和一些用戶生成內容的面向內容站點</li>
     <li>2 — 整個站點需要登錄的地方，廣泛使用用戶生成的內容和各種個性化技術</li>
    </ul> </td>
  </tr>
  <tr>
   <td>快取比率</td>
   <td>從調度程式快取中出來的頁的百分比。 如果所有頁都來自快取，則使用1；如果每頁都由計算，則使用0AEM。</td>
  </tr>
  <tr>
   <td>模板複雜性</td>
   <td>使用介於1和10之間的值來表示模板的複雜性。 數字越高，表示模板越複雜，使用的是平均每頁有10個元件的站點的值1，頁面平均有40個元件的值5，平均超過100個元件的值10。</td>
  </tr>
  <tr>
   <td>激活</td>
   <td>每小時平均激活數（將平均大小的頁面和資產從作者複製到發佈層）除以x，其中x是在系統上執行的激活數，對系統處理的其他任務沒有效能副作用。 您還可以預定義一個悲觀的初始值，如x = 100。<br /> </td>
  </tr>
 </tbody>
</table>

如果您有一個更複雜的網站，您還需要更強大的Web伺服器，以便AEM在可接受的時間內應答請求。

* 複雜性低於4:· 1024 MB JVM RAM&#42;
·中低效能CPU

* 4到8之間的複雜性：· 2048 MB JVM RAM&#42;
·中高效能CPU

* 複雜性超過8:· 4096 MB JVM RAM&#42;
·高端到高端效能CPU

>[!NOTE]
>
>&#42; 除了JVM所需的記憶體外，還為作業系統保留足夠的RAM。

## 其他特定於使用案例的計算 {#additional-use-case-specific-calculations}

除了計算預設Web應用程式外，您可能需要考慮以下使用情形的特定因素。 計算值將添加到預設計算中。

### 特定於資產的注意事項 {#assets-specific-considerations}

對數字資產的廣泛處理需要優化的硬體資源，最相關的因素是影像大小和處理後影像的峰值吞吐量。

分配至少16GB的堆並配置 [!UICONTROL DAM更新資產] 要使用的工作流 [Camera Raw包](/help/assets/camera-raw.md) 攝入原始影像。

>[!NOTE]
>
>影像的較高吞吐量意味著計算資源需要能夠跟上系統I/O的速度，反之亦然。 例如，如果工作流是通過導入映像來啟動的，則通過WebDAV上載許多映像可能會導致工作流積壓。
>
>對TarPM、資料儲存和搜索索引使用單獨的磁碟有助於優化系統I/O行為（但是，通常將搜索索引保留在本地是有意義的）。

>[!NOTE]
>
>另請參閱 [資產效能指南](/help/sites-deploying/assets-performance-sizing.md)。

### 多站點管理器 {#multi-site-manager}

在創作環境中AEM使用MSM時的資源消耗在很大程度上取決於特定的使用案例。 基本因素有：

* 即時拷貝數
* 實施週期
* 要展開的內容樹大小
* 部署操作的連接功能

使用具有代表性的內容摘錄測試計畫的使用案例有助於您更好地理解資源消耗。 如果根據計畫的吞吐量推斷結果，則可以評估MSM所需的附AEM加資源。

還請考慮，如果MSM使用案例消耗的資源比計畫的要多，並行工作的作者將AEM會發現業績方面的副作用。

### AEM Communities調整考慮 {#aem-communities-sizing-considerations}

包AEM括AEM Communities功能（社區站點）的站點在發佈環境中會經歷站點訪問者（成員）的高級別交互。

社區站點的大小調整考慮事項取決於社區成員的預期交互作用以及頁面內容的最佳效能是否更為重要。

用戶生成的內容(UGC)提交的成員與頁面內容分開儲存。 雖然平AEM台使用節點儲存將站點內容從作者複製到發佈，但AEM Communities使用一個從未複製的UGC公共儲存。

對於UGC儲存，需要選擇影響所選部署的儲存資源提供程式(SRP)。
請參閱

* [社區內容儲存](/help/communities/working-with-srp.md)
* [推薦的社區拓撲](/help/communities/topologies.md)
