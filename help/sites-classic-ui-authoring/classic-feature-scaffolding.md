---
title: 支架
description: 有時，您可能需要建立一組共用相同結構但內容不同的頁面。 使用腳手架，您可以建立一個表單（腳手架），其中包含欄位，這些欄位反映您想要的頁面結構，然後使用此表單可輕鬆地基於此結構建立頁面。
uuid: 5904abc0-b256-4da4-a7d7-3c17ea299648
contentOwner: Chris Bohnert
products: SG_EXPERIENCEMANAGER/6.5/SITES
content-type: reference
topic-tags: site-features
discoiquuid: a63e5732-b1a3-4639-9838-652af401e788
docset: aem65
exl-id: 58e61302-cfb4-4a3d-98d4-3c92baa2ad42
source-git-commit: e1a0b114ce16d0e7f6a464e9d30b8f111297bcc6
workflow-type: tm+mt
source-wordcount: '1448'
ht-degree: 0%

---

# 支架{#scaffolding}

有時，您可能需要建立一組共用相同結構但內容不同的頁面。 通過標AEM準介面，您需要建立每個頁面，將相應的元件拖動到頁面上，然後分別填充每個元件。

使用腳手架，您可以建立一個表單（腳手架），其中包含欄位，這些欄位反映您想要的頁面結構，然後使用此表單可輕鬆地基於此結構建立頁面。

>[!NOTE]
>
>腳手架（在經典用戶介面中） [尊重MSM繼承](#scaffolding-with-msm-inheritance)。

## 腳手架的工作原理 {#how-scaffolding-works}

支架存放在 **工具** 站點管理員的控制台。

* 開啟 **工具** 並按一下 **預設頁面腳手架**。
* 在此下按一下 **幾何**。
* 下 **幾何** 你會找到 *支架頁* 調用 **新聞**。 按兩下以開啟此頁。

![howscaffolds_work](assets/howscaffolds_work.png)

支架由一個表單組成，其中每個內容都包含一個欄位，這些欄位將構成要建立的頁面，四個重要參數通過 **頁面屬性** 腳手架頁面。

![道](assets/pageprops.png)

腳手架頁面屬性為：

* **標題文本**:這是腳手架頁面的名稱。 在此示例中，它稱為「新聞」。
* **說明**:這出現在腳手架頁面的標題下方。
* **目標模板**:這是此腳手架在建立新頁面時將使用的模板。 在此示例中，它是 *「幾何」內容頁* 的下界。
* **目標路徑**:這是父頁的路徑，此指令碼架構將在其下建立新頁。 在此示例中，路徑為 */content/geometrixx/en/news*。

腳手架的主體為形狀。 當用戶希望使用支架建立頁面時，他會填寫表單並按一下 *建立*&#x200B;的下界。 在 **新聞** 表單上的示例包含以下欄位：

* **標題**:這是要建立的頁面的名稱。 每個支架上總有這個場。
* **文本**:此欄位與生成頁面上的文本元件相對應。
* **影像**:此欄位與生成頁面上的影像元件相對應。
* **映像/高級**: **標題**:影像的標題。
* **映像/高級**: **替代文字**:影像的Alt文本。
* **映像/高級**: **說明**:影像的說明。
* **映像/高級**: **大小**:影像的大小。
* **標籤/關鍵字**:要分配給此頁的元資料。 每個支架上總有這個場。

### 建立支架 {#creating-a-scaffold}

要建立新指令碼架構，請轉到 **工具** 然後 **預設頁面腳手架** 並建立新頁面。 將提供單頁模板類型， *腳手架模板。*

轉到 **頁面屬性** 的子菜單 *標題文本*。 *說明*。 *目標模板* 和 *目標路徑*，如上所述。

接下來，您必須定義此腳手架將建立的頁面的結構。 要執行此操作，請 **[設計模式](/help/sites-authoring/page-authoring.md#sidekick)** 在腳手架頁面上。 將出現一個連結，允許您在 **對話框編輯器**。

![cq5_dialog_editor](assets/cq5_dialog_editor.png)

使用對話框編輯器，可指定每次使用此腳手架建立新頁面時將建立的屬性。

腳手架的對話框定義與元件的對話框定義類似(請參見 [元件](/help/sites-developing/components.md))。 然而，有幾個重要差異是適用的：

* 元件對話框定義被呈現為普通對話框（例如，對話框編輯器的中間窗格中顯示），而支架對話框定義雖然在對話框編輯器中顯示為普通對話框，但在支架頁面上被呈現為支架窗體(如 **新聞** 腳手架)。
* 元件對話框僅為定義單個特定元件的內容所需的值提供欄位。 腳手架對話框必須為要建立的頁面的每個段落中的每個屬性提供欄位。
* 在元件對話框中，用於呈現指定內容的元件是隱式的，因此 `sling:resourceType` 在建立段落時自動填充段落的屬性。 使用支架時，必須由對話框本身提供定義給定段落的內容和指定元件的所有資訊。 在指令碼框對話框中，必須使用 *隱藏* 欄位以在建立頁面時提交此資訊。

看例子 **新聞** 對話框編輯器中的scaffold對話框有助於解釋此操作的原理。 進入腳手架頁面的設計模式，然後按一下對話框編輯器連結。

現在，按一下對話框欄位 **對話框>頁籤面板>文本>文本**，如此：

![發信人](assets/textedit.png)

此欄位的屬性清單將顯示在對話框編輯器的右側，如下所示：

![清單_of_properties](assets/list_of_properties.png)

請注意此欄位的name屬性。 它有價值

`./jcr:content/par/text/text`

這是在使用指令碼建立頁面時將寫入此欄位內容的屬性的名稱。 該屬性表示為從節點到要建立的頁面的相對路徑。 它指定節點文本下的屬性文本，該文本位於節點部分下方，節點部分本身是頁面節點下的jcr:content節點的子節點。

這定義將輸入到此欄位的文本的內容儲存的位置。 但是，我們還需要為此內容指定另外兩個特徵：

* 此處儲存的字串必須解釋為 *富文本*,
* 應使用哪個元件將此內容呈現到生成的頁面。

請注意，在正常元件對話框中，您不必指定此資訊，因為該資訊在對話框已綁定到特定元件時是隱式的。

要指定使用隱藏欄位的這兩條資訊。 按一下第一個隱藏欄位 **對話框>頁籤面板>文本>隱藏**，如此：

![隱藏](assets/hidden.png)

此隱藏欄位的屬性如下：

![隱藏_清單_道理](assets/hidden_list_props.png)

此隱藏欄位的名稱屬性為

`./jcr:content/par/text/textIsRich`

這是一個布爾屬性，用於解釋儲存在 `./jcr:content/par/text/text`。

因為我們知道文本應被解釋為富格文本，我們指定 `value` 此欄位的屬性為 `true`。

>[!CAUTION]
>
>對話框編輯器允許用戶更改 *現有* 屬性。 要添加新屬性，用戶必須使用 [CRXDE Lite](/help/sites-developing/developing-with-crxde-lite.md)。 例如，當將新隱藏欄位添加到具有對話框編輯器的對話框定義時，它沒有 *值* 屬性（即名為&quot;value&quot;的屬性）。 如果相關隱藏欄位需要預設 *值* 要設定的屬性，則必須使用CRX工具之一手動添加此屬性。 無法將值與對話框編輯器本身一起添加。 但是，一旦存在該屬性，就可以使用對話框編輯器編輯其值。

通過按一下第二個隱藏欄位，可以看到它：

![hidden2](assets/hidden2.png)

此隱藏欄位的屬性如下：

![隱藏_清單_props2](assets/hidden_list_props2.png)

此隱藏欄位的名稱屬性為

`./jcr:content/par/text/sling:resourceType`

為此屬性指定的固定值為

`foundation/components/textimage`

這指定用於呈現此段落的文本內容的元件是 *文本影像* 元件。 與 `isRichText` 在另一個隱藏欄位中指定的布爾值，該元件可以呈現儲存在 `./jcr:content/par/text/text` 以理想的方式。

### 具有MSM繼承的腳手架 {#scaffolding-with-msm-inheritance}

在經典用戶介面中，腳手架與MSM繼承完全整合（如適用）。

在中開啟頁面時 **腳手架** 模式（使用邊腳底部的表徵圖）任何受繼承約束的元件將由以下方式表示：

* 鎖定符號(對於大多數元件；例如文本和標題)
* 帶有文本的蒙版 **按一下可取消繼承** （用於影像元件）

這表明在取消繼承之前，無法編輯元件。

![chlimage_1](assets/chlimage_1.jpeg)

>[!NOTE]
>
>這與 [編輯頁面內容時繼承的元件](/help/sites-authoring/editing-content.md#inheritedcomponentsclassicui)。

按一下鎖定符號或影像表徵圖可中斷繼承：

* 符號將變為開啟的掛鎖。
* 解鎖後，您可以編輯內容。

![chlimage_1-1](assets/chlimage_1-1.jpeg)

解鎖後，可以通過按一下解鎖的掛鎖符號恢復繼承 — 這將丟失您所做的任何編輯。

>[!NOTE]
>
>如果在頁面級別取消繼承(從「頁面屬性」的「Livecopy」（清單）頁籤)，則所有元件都可在 **腳手架** 模式（它們將顯示為未鎖定狀態）。
