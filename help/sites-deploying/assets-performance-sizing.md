---
title: 資產效能指南
seo-title: 資產效能指南
description: 瞭解如何為新的數位資產管理(DAM)設定確定最佳硬體大小，以及如何疑難排解效能問題
seo-description: 瞭解如何為新的數位資產管理(DAM)設定確定最佳硬體大小，以及如何疑難排解效能問題
uuid: 8291c5b9-c543-41cf-8754-445826200930
contentOwner: User
products: SG_EXPERIENCEMANAGER/6.5/SITES
content-type: reference
topic-tags: configuring
discoiquuid: a79839e2-be39-418b-a3bd-f5457e555172
translation-type: tm+mt
source-git-commit: a3c303d4e3a85e1b2e794bec2006c335056309fb

---


# 資產效能指南{#assets-performance-guide}

數位資產管理通常用於效能攸關的情況；但是，典型的DAM設定包含一些可能影響效能的硬體和軟體元件。 本檔案提供下列功能：

* 系統管理員有關確定新數字資產管理設定的最佳硬體大小的資訊
* 針對想要疑難排解DAM例項效能問題的軟體開發人員的資訊

## 效能問題 {#performance-issues}

在數位資產管理中效能不佳可能會以三種方式影響使用者體驗：互動式效能、資產處理和下載速度。 為了改善效能，必須正確測量觀察到的效能並建立目標量度。

**1. 互動式搜尋和瀏覽** ：使用者正在搜尋資產或瀏覽DAM Finder，並抱怨回應時間緩慢，或搜尋結果不會立即顯示。 這是互動式效能問題。

互動效能是以頁面回應時間來衡量。 這是從接收HTTP請求到關閉HTTP響應所花費的時間，可從請求日誌檔案中確定。 一般目標效能是低於兩秒的頁面回應時間。

**2. 資產處理** ：資產處理問題是當使用者上傳資產時，而且需要幾分鐘的時間，直到資產能立即轉換並收錄到AEM DAM。

資產處理績效是根據平均工作流程處理完成時間來衡量。 這是從叫用資產更新工作流程程式到完成該程式所花的時間，可從工作流程報表使用者介面來判斷。 一般的目標效能取決於所處理資產的大小和類型，以及轉譯的數目。 目標效能示例如下：

* 使用標準轉譯時，小於1280x1280像素的影像會低於10秒
* 使用標準轉譯時，影像大小小於100 MB時，一分鐘以下
* 短於1分鐘的HD視訊剪輯，需要5分鐘以下

**3. 下載速度** ：從AEM DAM下載時，總處理能力問題會很長，而且瀏覽DAM管理員或DAM Finder時，縮圖不會立即顯示。

吞吐量效能以每秒千比特的下載速率衡量。 100次並行下載時，一般目標效能為每秒300 KB。

**4. 影響資產處理效能的因素**

為了能夠估計處理資產所需的硬體，需要考慮以下方面：

* 影像的解析度（像素數）
* 指派給AEM進程的堆

影像中包含的像素數量決定了處理時間——更多像素意味著處理需要更長的時間。
影像類型、壓縮率或儲存影像的檔案相關大小不會大幅影響整體效能。

堆已被確定為最重要的限制因素。 當資產超過可用空閒記憶體時，處理效能會迅速下降。

DAM流程非常適合大量並行執行。 在批次和多核處理器中上傳資產可加速每個資產的絕對逗留時間。

**5. 評估執行資產處理的硬體需求**

大量處理數位資產需要最佳化硬體資源，最相關的因素是影像大小和處理後影像的峰值吞吐量。

分配至少16GB的堆積，並設定「DAM更新資產」工作流程，以使用 [Camera Raw套件擷取原始影像](/help/assets/camera-raw.md) 。

## 瞭解系統 {#understanding-the-system}

典型的DAM設定由最終用戶通過負載平衡器訪問DAM組成。 DAM實例可能是群集設定的一部分，在群集設定中，每個DAM實例都在物理機器或虛擬機上的Java虛擬機進程中運行。 DAM儲存由RAID磁碟在單機設定時提供，在群集設定時由受管網路連接儲存提供。

以下圖例說明某些解決方案（視情況而定）可能存在的效能陷阱區域。

**與最終用戶的網路連接** ：網路連接速度慢可能導致吞吐量問題，在某些情況下也會出現延遲問題。 有時，用戶與ISP的連接速度較慢，尤其是在內部網路中。 這表示網路拓撲不正確。

**臨時檔案系統** ：本地檔案系統速度慢可能導致交互效能問題，尤其是在搜索時，因為搜索索引儲存在本地磁碟上。 此外，如果使用命令列處理，也會造成資產處理問題。

**AEM DAM Finder** Interactive效能問題（通常在搜尋中遇到）是由於同一執行個體上有許多並行使用者或其他耗用CPU的程式，導致CPU使用率較高。 從虛擬機移動到專用電腦，並確保電腦上沒有其他服務運行有助於提高效能。 如果由於資產處理和許多並行用戶而導致CPU負載高，Day建議添加其他群集節點。

**AEM DAM Workflow** ：資產擷取期間長時間執行的工作流程程式會造成資產處理效能問題。 視要處理的資產類型而定，這可能表示CPU過度使用。 Day建議您減少系統上運行的其他進程數，並通過添加群集節點增加可用CPU數。

**NAS連接性** NAS的網路連接性較差，導致互動效能問題，因為由於網路延遲，在資產處理過程中訪問新節點的速度變慢。 此外，網路吞吐量緩慢會對吞吐量產生負面影響，但也會對資產處理效能產生負面影響，因為載入和保存轉譯的速度會變慢。

NAS中延遲和吞吐量不佳的原因通常是網路拓撲或NAS過度利用其他服務。

**網路連接儲存** ：過度使用的網路連接儲存系統可能導致以下一系列問題：

* 磁碟空間不足是經常遇到的問題，通過適當調整DAM項目的大小可以避免。
* 對於CRX，高磁碟延遲會傳播到慢訪問時間，並可能導致交互效能問題。
* 磁碟吞吐量低可能導致CQ5 DAM效能低。

## 效能測試 {#testing-for-performance}

對於每個DAM項目，請務必建立能快速識別並解決瓶頸的效能測試機制。 若要這麼做，請考慮下列查核點：

1. 使用JMeter進行端對端效能測試——模擬範例搜尋與瀏覽作業階段，以偵測互動式效能問題。
1. 使用JMeter —— 在客戶端電腦上運行的吞吐量和延遲測試可確保不存在與拓撲相關的問題。
1. 標準化資產處理測試——擷取少量範例資產並測量時間。 這應包括外部工作流程整合。
1. 監視每個群集節點的CPU 、磁碟和記憶體利用率。
1. CRX讀／寫效能診斷，以識別非處理相關問題。
1. 監控從DAM群集到NAS的網路延遲和吞吐量。
1. 如果可能，直接在NAS上測試讀寫效能以及磁碟延遲。

## 調整瓶頸 {#tweaking-bottlenecks}

目前專案已使用下列效能調整：

* 選擇性轉譯產生：只會將條件新增至資產處理工作流程，以產生您需要的轉譯，如此，就只會為選取的資產產生成本較高的轉譯。
* 例項間的共用資料儲存：當運行磁碟空間不足時，這可以大大減少所需的磁碟空間量，而代價是配置工作量增加，並丟失資料儲存的自動清理。

## 進一步閱讀 {#further-reading}

* [分析慢速和阻塞的進程](https://helpx.adobe.com/experience-manager/kb/AnalyzeSlowAndBlockedProcesses.html)

