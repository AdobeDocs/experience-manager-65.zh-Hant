---
title: 資產效能指南
seo-title: Assets Performance Guide
description: 瞭解如何確定新數字資產管理(DAM)設定的最佳硬體規模以及如何解決效能問題
seo-description: Learn how to determine the optimal hardware sizing for a new Digital Asset Management (DAM) setup and how to troubleshoot performance issues
uuid: 8291c5b9-c543-41cf-8754-445826200930
contentOwner: User
products: SG_EXPERIENCEMANAGER/6.5/SITES
content-type: reference
topic-tags: configuring
discoiquuid: a79839e2-be39-418b-a3bd-f5457e555172
exl-id: fbe15e1b-830b-4752-bd02-0d239a90bc68
source-git-commit: b220adf6fa3e9faf94389b9a9416b7fca2f89d9d
workflow-type: tm+mt
source-wordcount: '1222'
ht-degree: 0%

---

# 資產效能指南{#assets-performance-guide}

數字資產管理通常用於效能重要的情況；但是，典型的DAM設定包含許多可能影響效能的硬體和軟體元件。 本文檔提供以下內容：

* 有關為新的數字資產管理設定確定最佳硬體規模的資訊，請向系統管理員提供
* 軟體開發人員的資訊，這些軟體開發人員希望解決DAM實例的效能問題

## 效能問題 {#performance-issues}

在數字資產管理中，效能差會從以下三方面影響用戶體驗：交互效能、資產處理和下載速度。 為了提高效能，必須正確地測量觀察到的效能並建立目標度量。

**1. 互動式搜索和瀏覽** 用戶正在搜索資產或瀏覽DAM Finder，並抱怨響應時間慢或搜索結果不會立即顯示。 這是一個互動式效能問題。

交互效能以頁面響應時間來衡量。 這是從接收HTTP請求到關閉HTTP響應所花的時間，可以從請求日誌檔案中確定。 典型目標效能是低於兩秒的頁面響應時間。

**2. 資產處理** 資產處理問題是，當用戶上傳資產時，需要幾分鐘時間，才能將資產輕鬆轉換並接收到AEMDAM。

資產處理效能以平均工作流處理完成時間來衡量。 這是從調用資產更新工作流進程到完成它所花費的時間，可從工作流報告用戶介面確定。 典型的目標效能取決於處理的資產的大小和類型以及格式副本的數量。 目標效能示例如下：

* 使用標準格式副本的小於1280 x 1280像素的影像在10秒以下
* 使用標準格式副本的小於100 MB的影像低於1分鐘
* 短於1分鐘的高清視頻剪輯低於5分鐘

**3. 下載速度** 從DAM下載時，吞吐量問題AEM是，瀏覽DAM管理員或DAM查找器時，縮略圖不會立即顯示。

吞吐量效能以每秒千比特的下載速率來衡量。 典型目標效能為300千比特/秒，可進行100次併發下載。

**4. 影響資產處理績效的因素**

要能夠估計處理資產所需的硬體，需要考慮以下方面：

* 影像的解析度（以像素為單位）
* 分配給進程的堆AEM

影像中包含的像素量決定了處理時間 — 更多像素意味著處理需要更長的時間。
影像類型、壓縮率或儲存影像的檔案的相關大小不會對整體效能產生顯著影響。

堆已被確定為最重要的限制因素。 當資產超過可用空閒記憶體時，處理效能會迅速下降。

DAM工藝非常適合大量並行執行。 以批處理器和多核處理器上載資產，可加快每個資產所花費的絕對時間。

**5. 評估執行資產處理的硬體需求**

對數字資產的廣泛處理需要優化的硬體資源，最相關的因素是影像大小和處理後影像的峰值吞吐量。

分配至少16GB的堆並配置 [!UICONTROL DAM更新資產] 要使用的工作流 [Camera Raw包](/help/assets/camera-raw.md) 攝入原始影像。

## 瞭解系統 {#understanding-the-system}

典型的DAM設定由通過負載平衡器訪問DAM的最終用戶組成。 DAM實例可能是群集設定的一部分，其中每個DAM實例都在物理機或虛擬機上的Java虛擬機進程中運行。 DAM儲存由RAID磁碟在單機設定情況下提供，在群集設定情況下由托管網路連接儲存提供。

以下圖例說明了一些解決方案（如適用）可能的效能陷阱區域。

**與最終用戶的網路連接** 網路連接速度慢可能導致吞吐量問題，在某些情況下，延遲問題也會出現。 有時，用戶與ISP的連接速度較慢，尤其是在內部網中。 這表示網路拓撲不正確。

**臨時檔案系統** 本地檔案系統速度慢可能會導致交互效能問題，尤其是在搜索時，因為搜索索引儲存在本地磁碟上。 如果使用命令行進程，則還可能導致資產處理問題。

**DAMAEM查找器** 在搜索中經常遇到的交互效能問題是由CPU利用率高引起的，原因是同一實例上有許多併發用戶或其他消耗CPU的進程。 從虛擬機移動到專用電腦並確保電腦上沒有其他服務運行有助於提高效能。 如果由於資產處理和許多併發用戶而導致CPU負載高，Day建議添加其他群集節點。

**DAM工AEM作流** 資產接收期間長時間運行的工作流進程會導致資產處理效能問題。 根據正在處理的資產類型，這可能表示CPU利用率過高。 Day建議您減少系統上運行的其他進程數，並通過添加群集節點增加可用CPU數。

**NAS連接** 與NAS的網路連接性差會導致交互效能問題，因為由於網路延遲，在資產處理期間訪問新節點的速度會減慢。 此外，網路吞吐量的降低會對吞吐量產生負面影響，但也會影響資產處理效能，因為載入和保存格式副本的速度會減慢。

NAS中延遲和吞吐量不佳的原因通常是網路拓撲或NAS被其他服務過度利用。

**網路連接儲存** 過度使用的網路連接儲存系統可能會導致一系列問題：

* 磁碟空間不足是經常遇到的問題，通過適當調整DAM項目的大小可以防止出現這種問題。
* 高磁碟延遲將傳播到CRX的慢訪問時間，並可能導致交互效能問題。
* 磁碟吞吐量低可能導致CQ5 DAM效能低。

## 效能測試 {#testing-for-performance}

對於每個DAM項目，請確保建立一個效能測試機制，以快速發現和解決瓶頸。 為此，請考慮以下檢查點：

1. 使用JMeter的端到端效能test — 模擬一個示例搜索和瀏覽會話，以檢測互動式效能問題。
1. 使用JMeter的吞吐量和延遲test — 在客戶端電腦上運行可確保不存在與拓撲相關的問題。
1. 標準化資產處理test — 攝取少量示例資產並衡量時間。 這應包括外部工作流整合。
1. 監視每個群集節點的CPU、磁碟和記憶體利用率。
1. CRX讀/寫效能診斷，以確定非處理相關問題。
1. 監控網路延遲和從DAM群集到NAS的吞吐量。
1. TestNAS上的讀寫效能以及磁碟延遲（如果可能）。

## 調整瓶頸 {#tweaking-bottlenecks}

到目前為止，在項目中已使用以下效能調整：

* 選擇性格式副本生成：只通過向資產處理工作流添加條件來生成所需的格式副本，以便只為選定的資產生成成本更高的格式副本。
* 實例之間的共用資料儲存：當磁碟空間不足時，這會大大降低所需的磁碟空間量，而代價是配置工作量增加，並會丟失資料儲存的自動清理。

## 延伸閱讀 {#further-reading}

* [分析慢速和阻止的進程](https://helpx.adobe.com/experience-manager/kb/AnalyzeSlowAndBlockedProcesses.html)
